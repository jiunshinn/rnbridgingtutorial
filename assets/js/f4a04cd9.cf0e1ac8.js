"use strict";(self.webpackChunkbridging_tutorial_website=self.webpackChunkbridging_tutorial_website||[]).push([[8741],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>f});var r=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=r.createContext({}),c=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},p=function(e){var t=c(e.components);return r.createElement(s.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,i=e.mdxType,a=e.originalType,s=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),u=c(n),m=i,f=u["".concat(s,".").concat(m)]||u[m]||d[m]||a;return n?r.createElement(f,l(l({ref:t},p),{},{components:n})):r.createElement(f,l({ref:t},p))}));function f(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var a=n.length,l=new Array(a);l[0]=m;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o[u]="string"==typeof e?e:i,l[1]=o;for(var c=2;c<a;c++)l[c]=n[c];return r.createElement.apply(null,l)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},7006:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>d,frontMatter:()=>a,metadata:()=>o,toc:()=>c});var r=n(7462),i=(n(7294),n(3905));const a={sidebar_label:"JS specification",sidebar_position:3,title:"JS specification"},l=void 0,o={unversionedId:"guides/save-file-picker-module/js-spec",id:"guides/save-file-picker-module/js-spec",title:"JS specification",description:"When all boilerplate is ready, let's navigate to src/NativeSaveFilePickerModule.ts. To declare module spec, let's paste following content:",source:"@site/docs/guides/save-file-picker-module/js-spec.mdx",sourceDirName:"guides/save-file-picker-module",slug:"/guides/save-file-picker-module/js-spec",permalink:"/rnbridgingtutorial/docs/guides/save-file-picker-module/js-spec",draft:!1,editUrl:"https://github.com/mateusz1913/rnbridgingtutorial/tree/main/docs/docs/guides/save-file-picker-module/js-spec.mdx",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_label:"JS specification",sidebar_position:3,title:"JS specification"},sidebar:"tutorialSidebar",previous:{title:"Module boilerplate",permalink:"/rnbridgingtutorial/docs/guides/save-file-picker-module/setup"},next:{title:"iOS implementation",permalink:"/rnbridgingtutorial/docs/guides/save-file-picker-module/ios-impl"}},s={},c=[],p={toc:c},u="wrapper";function d(e){let{components:t,...n}=e;return(0,i.kt)(u,(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"When all boilerplate is ready, let's navigate to ",(0,i.kt)("inlineCode",{parentName:"p"},"src/NativeSaveFilePickerModule.ts"),". To declare module spec, let's paste following content:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/NativeSaveFilePickerModule.ts"',title:'"src/NativeSaveFilePickerModule.ts"'},"import type { TurboModule } from 'react-native';\nimport { TurboModuleRegistry } from 'react-native';\n\nexport interface Spec extends TurboModule {\n  saveFileWithCallback(\n    filename: string,\n    callback: (result: {\n      success: boolean,\n      cancelled: boolean,\n      error?: { code: number, message: string }\n    }) => void\n    ): void\n  saveFileWithPromise(filename: string): Promise<boolean>\n}\n\nexport default TurboModuleRegistry.getEnforcing<Spec>('SaveFilePickerModule');\n")),(0,i.kt)("p",null,"To showcase how you can use callback and promise methods, we'll declare the same method with different types of response."),(0,i.kt)("p",null,"Both methods will rely on the ",(0,i.kt)("inlineCode",{parentName:"p"},"filename")," argument, which will be the name of the file from the platform application assets."),(0,i.kt)("p",null,"In the first method, we put the callback argument that, when invoked back, will get the result object with the success, cancelled flags and optional error object"),(0,i.kt)("p",null,"The second method returns the promise will the value of the success (",(0,i.kt)("inlineCode",{parentName:"p"},"true")," - success, ",(0,i.kt)("inlineCode",{parentName:"p"},"false")," - cancel)."),(0,i.kt)("p",null,"The module is available under the ",(0,i.kt)("inlineCode",{parentName:"p"},"SaveFilePickerModule")," name"),(0,i.kt)("p",null,"You can run codegen to generate native classes and interfaces, and also check if specification is defined in correct way:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"on iOS: ",(0,i.kt)("inlineCode",{parentName:"li"},"yarn codegen:ios")),(0,i.kt)("li",{parentName:"ul"},"on Android: ",(0,i.kt)("inlineCode",{parentName:"li"},"yarn codegen:android"))),(0,i.kt)("p",null,"After that, let's finalize JS part with exporting module from ",(0,i.kt)("inlineCode",{parentName:"p"},"index.ts")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/index.ts"',title:'"src/index.ts"'},"export { default as SaveFilePickerModule } from './NativeSaveFilePickerModule';\n")))}d.isMDXComponent=!0}}]);